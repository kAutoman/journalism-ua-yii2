Модуль "Карта"
===================

# This description is out of date!!

##Реализовано:

####Backend:
1. Миграции для добавления таблицы модуля в БД.
2. Виджет карты `MapSelector` для подключения в `formConfig`.
3. Behavior `MapBehavior` для модели, в которой подключается виджет карты.

####Common:
1. Cтандартные common-модель

##Как установить
1. Стандартный импорт модуля (см. [Инструкцию](../core_modules/Import.md))
2. Подключить behavior к нужной нам модели
```
'map' => [
    'class' => \backend\modules\map\behaviors\MapBehavior::className(),
]
```
3. Подключить виджет к форме
```
'map' => [
    'type' => ActiveFormBuilder::INPUT_WIDGET,
    'widgetClass' => \backend\modules\map\widgets\mapSelector\MapSelector::className(),
    'options' => [
        // ...
    ]
]
```

##Описание
Модуль полностью независим, и может быть подключен к любому другому модулю и модели. Реализван по принципу `Entity to map`, т.е. имеет отдельную таблицу для записи нужных нам значений. Сохраняет координаты (долгота, широта) маркера, а так же значение масштаба карты.

#### Описание виджета
Виджет мультиязычный. Язык карты подтягивается с языка приложения. Дефолтный ключ API разрешает 25 000 запросов в карте в сутки.

Виджет можно подключать к стандартной модели, а так же к конфигурационныс статическим моделям. **Примечание!** Может быть только одна карта на форму. В ином случае, будут конфликты ID-елементов.

Для быстрого подключения виджета достаточно скопировать его пример выше. Дополнительно, может принимать опции:

`hiddenFields` - boolean. Скрыть или отображать инпуты для координат и масшатаба. По-умолчанию `true`, поля hidden. Если активно, под картой будут видны 3 дополнительный текстовых поля для ручного ввода координат и значения масштаба. 

`fieldOptions` - array. Массив опций полей координат и значения масштаба.

`scrollable` - boolean. Разрешить или запретить масшабирование карты скроллом. По-умолчанию `true`.

`marker` - string | boolean. Задать путь к кастомному маркеру на карте. Сам маркер должен быть доступен в webroot приложения. По-умолчанию `false` - будет дефолтный маркер GoogleMaps.

`autoComplete` - boolean. Строка поиска AutoComplete для карты. Позволяет быстро перейти к нужному месту на карте. По-умолчанию `false`.

##Что можно добавить
Придумать реализацию подключения нескольких виджетов на одной форме.
